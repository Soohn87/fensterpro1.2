workflows:
  android-workflow:
    name: FensterPro Android Build
    max_build_duration: 120

    environment:
      flutter: 3.22.3

    scripts:
      - name: Clean + Pub Get
        script: |
          flutter clean
          flutter pub get

                - name: Build APK (release)
        script: |
          flutter build apk --release
          echo "=== APK FILES ==="
          find build/app/outputs -type f -name "*.apk" -print

        artifacts:
      - build/app/outputs/**/*.apk
      - build/**/outputs/**/*.apk
